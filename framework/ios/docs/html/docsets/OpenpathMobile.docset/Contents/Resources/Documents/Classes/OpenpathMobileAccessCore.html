<!DOCTYPE html>
<html lang="en">
  <head>
    <title>OpenpathMobileAccessCore Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/OpenpathMobileAccessCore" class="dashAnchor"></a>
    <a title="OpenpathMobileAccessCore Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">OpenpathMobile Docs</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">OpenpathMobile Reference</a>
        <img id="carat" src="../img/carat.png" alt=""/>
        OpenpathMobileAccessCore Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../release-010.html">Release-0.1.0</a>
              </li>
              <li class="nav-group-task">
                <a href="../release-011.html">Release-0.1.1</a>
              </li>
              <li class="nav-group-task">
                <a href="../release-020.html">Release-0.2.0</a>
              </li>
              <li class="nav-group-task">
                <a href="../release-021.html">Release-0.2.1</a>
              </li>
              <li class="nav-group-task">
                <a href="../release-030.html">Release-0.3.0</a>
              </li>
              <li class="nav-group-task">
                <a href="../release-040.html">Release-0.4.0</a>
              </li>
              <li class="nav-group-task">
                <a href="../release-041.html">Release-0.4.1</a>
              </li>
              <li class="nav-group-task">
                <a href="../release-042.html">Release-0.4.2</a>
              </li>
              <li class="nav-group-task">
                <a href="../release-043.html">Release-0.4.3</a>
              </li>
              <li class="nav-group-task">
                <a href="../release-044.html">Release-0.4.4</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/OpenpathMobileAccessCore.html">OpenpathMobileAccessCore</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols.html#/s:14OpenpathMobile0A17AnalyticsDelegateP">OpenpathAnalyticsDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/OpenpathMobileAccessCoreDelegate.html">OpenpathMobileAccessCoreDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs.html#/s:14OpenpathMobile15ProvisionResultV">ProvisionResult</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>OpenpathMobileAccessCore</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">OpenpathMobileAccessCore</span><span class="p">:</span>
    <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">BleReaderDelegate</span><span class="p">,</span> <span class="kt">URLSessionDelegate</span><span class="p">,</span>
    <span class="kt">BleServiceDelegate</span><span class="p">,</span> <span class="kt">AWSMqttServiceDelegate</span><span class="p">,</span> <span class="kt">LocationDetectorDelegate</span><span class="p">,</span> <span class="kt">MotionDetectorDelegate</span><span class="p">,</span>
    <span class="kt">MicrophoneServiceDelegate</span><span class="p">,</span> <span class="kt">NotificationServiceDelegate</span><span class="p">,</span>
    <span class="kt">UNUserNotificationCenterDelegate</span></code></pre>

                </div>
              </div>
            <p>The entry point for all functionality in the OpenpathMobile SDK.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>Most functions send their responses by calling functions in <code><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html">OpenpathMobileAccessCoreDelegate</a></code>.</p>

</div><div class="aside aside-important">
    <p class="aside-title">Important</p>
    <p>Always access <code><a href="../Classes/OpenpathMobileAccessCore.html#/s:14OpenpathMobile0aB10AccessCoreC6sharedACvpZ">OpenpathMobileAccessCore.shared</a></code> on the main thread</p>

</div>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC6sharedACvpZ"></a>
                    <a name="//apple_ref/swift/Variable/shared" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC6sharedACvpZ">shared</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The single instance of this class</p>
<div class="aside aside-important">
    <p class="aside-title">Important</p>
    Always access this on the main thread.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">static</span> <span class="k">let</span> <span class="nv">shared</span><span class="p">:</span> <span class="kt">OpenpathMobileAccessCore</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC8delegateAA0abcD8Delegate_pSgvp"></a>
                    <a name="//apple_ref/swift/Property/delegate" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC8delegateAA0abcD8Delegate_pSgvp">delegate</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A required delegate to receive results of asynchronous operations</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kt"><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html">OpenpathMobileAccessCoreDelegate</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC9provision05setupB5Token8callbackySS_ys6ResultOyAA09ProvisionI0VAA0A5ErrorVGcSgtF"></a>
                    <a name="//apple_ref/swift/Method/provision(setupMobileToken:callback:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC9provision05setupB5Token8callbackySS_ys6ResultOyAA09ProvisionI0VAA0A5ErrorVGcSgtF">provision(setupMobileToken:<wbr>callback:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Provision a user.</p>

<ul>
<li>setupMobileToken: Token to provision with, either from the user&rsquo;s authentication email, or from logging in.</li>
<li><p>callback: Optional. If provided, this will be called when the provision succeeds or fails.</p></li>
</ul><div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>If (and only if) <code>callback</code> is NOT provided, the delegate <code>onProvisionResponse</code> will be called with success
or failure.</p>

</div><div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>This function does not start Openpath services, and this user is not active until <code><a href="../Classes/OpenpathMobileAccessCore.html#/s:14OpenpathMobile0aB10AccessCoreC10switchUser8userOpalySS_tF">switchUser(userOpal:)</a></code>  and <code><a href="../Classes/OpenpathMobileAccessCore.html#/s:14OpenpathMobile0aB10AccessCoreC8syncUseryyF">syncUser()</a></code>  are called.</p>

</div><div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>This function must be called with the app in the foreground or at least in a state where the app protected data (e.g., keychain and UserDefaults) is available. <a href="https://developer.apple.com/documentation/uikit/protecting_the_user_s_privacy/encrypting_your_app_s_files">More on protected data here</a></p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">provision</span><span class="p">(</span>
    <span class="nv">setupMobileToken</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
    <span class="nv">callback</span><span class="p">:</span> <span class="p">((</span><span class="kt">Result</span><span class="o">&lt;</span><span class="kt"><a href="../Structs.html#/s:14OpenpathMobile15ProvisionResultV">ProvisionResult</a></span><span class="p">,</span> <span class="kt">OpenpathError</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC6unlock8itemType0F2Id07requestH07timeoutySS_S3itF"></a>
                    <a name="//apple_ref/swift/Method/unlock(itemType:itemId:requestId:timeout:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC6unlock8itemType0F2Id07requestH07timeoutySS_S3itF">unlock(itemType:<wbr>itemId:<wbr>requestId:<wbr>timeout:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Unlocks an entry or reader.</p>

<ul>
<li>itemType: &ldquo;entry&rdquo; or &ldquo;reader&rdquo; (&ldquo;reader&rdquo; should only be used in elevator scenarios)</li>
<li>itemId: entry ID or reader ID</li>
<li>requestId: unique 32-bit integer</li>
<li>timeout: milliseconds to wait until the request returns a timeout error. We suggest a value between 8000 and 10000.</li>
</ul>

<p>Invokes <code><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html#/s:14OpenpathMobile0aB18AccessCoreDelegateP08openpathbcD0_16onUnlockResponseyAA0abcD0C_SDySSypGtF">openpathMobileAccessCore(_:onUnlockResponse:)</a></code>  on completion.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">unlock</span><span class="p">(</span><span class="nv">itemType</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
                   <span class="nv">itemId</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span>
                   <span class="nv">requestId</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span>
                   <span class="nv">timeout</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC11unprovision8userOpalySSSg_tF"></a>
                    <a name="//apple_ref/swift/Method/unprovision(userOpal:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC11unprovision8userOpalySSSg_tF">unprovision(userOpal:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Clears the Openpath user data for the requested user.</p>

<p>If the app has multiple users provisioned, the requested user can not be the active user. If no user is provided, the SDK unprovisions all provisioned users in the app.</p>

<p>Invokes <code><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html#/s:14OpenpathMobile0aB18AccessCoreDelegateP08openpathbcD0_21onUnprovisionResponseyAA0abcD0C_SDySSypGtF">openpathMobileAccessCore(_:onUnprovisionResponse:)</a></code></p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">unprovision</span><span class="p">(</span><span class="nv">userOpal</span><span class="p">:</span> <span class="kt">String</span><span class="p">?)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC10switchUser8userOpalySS_tF"></a>
                    <a name="//apple_ref/swift/Method/switchUser(userOpal:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC10switchUser8userOpalySS_tF">switchUser(userOpal:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Stops services of the current user if it is different from the required one, then loads the info of the required user from the stored records and restarts Openpath services for the new user.</p>

<p>This function should be called right after a successful provision response, or in order to switch to another user that was provisioned previously in the system. A successful return of this call should be always followed by a call to <a href="#syncUser">syncUser</a>.</p>

<p>Invokes <code><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html#/s:14OpenpathMobile0aB18AccessCoreDelegateP08openpathbcD0_20onSwitchUserResponseyAA0abcD0C_SDySSypGtF">openpathMobileAccessCore(_:onSwitchUserResponse:)</a></code> on completion.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">switchUser</span><span class="p">(</span><span class="nv">userOpal</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC8syncUseryyF"></a>
                    <a name="//apple_ref/swift/Method/syncUser()" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC8syncUseryyF">syncUser()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Synchronizes data for the currently active user.</p>

<ul>
<li>Broadcasts (through <code><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html">OpenpathMobileAccessCoreDelegate</a></code> delegate the following:</li>
<li>The current accessibility status of Bluetooth, Location, and internet services</li>
<li>The user&rsquo;s items (entries/readers);</li>
<li>The user&rsquo;s settings.</li>
<li>Then invokes <code><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html#/s:14OpenpathMobile0aB18AccessCoreDelegateP08openpathbcD0_18onSyncUserResponseyAA0abcD0C_SDySSypGtF">openpathMobileAccessCore(_:onSyncUserResponse:)</a></code> with the latest/updated user information and app version information.</li>
</ul>

<p>Within <code>onSyncUserResponse</code>, the only SDK-relevant fields in the &ldquo;appVersion&rdquo; section are &ldquo;latestSdkVersion&rdquo; and &ldquo;deprecatedSdkVersion&rdquo;. If you&rsquo;d like to gracefully handle the situation where the app has a deprecated SDK version, you can compare the &ldquo;deprecatedSdkVersion&rdquo; field with the current app&rsquo;s SDK version by calling <code><a href="../Classes/OpenpathMobileAccessCore.html#/s:14OpenpathMobile0aB10AccessCoreC13getSdkVersionSDySSypGyF">getSdkVersion()</a></code>.</p>

<p>This function should be called right after a successful return of a call to <code><a href="../Classes/OpenpathMobileAccessCore.html#/s:14OpenpathMobile0aB10AccessCoreC10switchUser8userOpalySS_tF">switchUser(userOpal:)</a></code>. It should also be called when the app first opens to retrieve the latest current user information.</p>

<p>Invokes <code><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html#/s:14OpenpathMobile0aB18AccessCoreDelegateP08openpathbcD0_18onSyncUserResponseyAA0abcD0C_SDySSypGtF">openpathMobileAccessCore(_:onSyncUserResponse:)</a></code> on completion.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">syncUser</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC19refreshUserSettingsyyF"></a>
                    <a name="//apple_ref/swift/Method/refreshUserSettings()" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC19refreshUserSettingsyyF">refreshUserSettings()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Request a refresh of user data (cloud keys, whether user has remote or override unlock, etc.) from the cloud.</p>

<p>Invokes <code><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html#/s:14OpenpathMobile0aB18AccessCoreDelegateP08openpathbcD0_17onUserSettingsSetyAA0abcD0C_SDySSypGtF">openpathMobileAccessCore(_:onUserSettingsSet:)</a></code> on completion.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">refreshUserSettings</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC11softRefreshyyF"></a>
                    <a name="//apple_ref/swift/Method/softRefresh()" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC11softRefreshyyF">softRefresh()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Request a refresh of controller configurations (e.g., entry and reader settings) and user entry permissions from the cloud.</p>

<p>If successful and there are changes to report, one or more of the following will be invoked:</p>

<ul>
<li><code><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html#/s:14OpenpathMobile0aB18AccessCoreDelegateP08openpathbcD0_10onItemsSetyAA0abcD0C_SDySSypGtF">openpathMobileAccessCore(_:onItemsSet:)</a></code></li>
<li><code><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html#/s:14OpenpathMobile0aB18AccessCoreDelegateP08openpathbcD0_19onItemStatesUpdatedyAA0abcD0C_SDySSypGtF">openpathMobileAccessCore(_:onItemStatesUpdated:)</a></code></li>
<li><code><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html#/s:14OpenpathMobile0aB18AccessCoreDelegateP08openpathbcD0_14onItemsUpdatedyAA0abcD0C_SDySSypGtF">openpathMobileAccessCore(_:onItemsUpdated:)</a></code></li>
</ul>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">softRefresh</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC20requestAuthorizationyySSF"></a>
                    <a name="//apple_ref/swift/Method/requestAuthorization(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC20requestAuthorizationyySSF">requestAuthorization(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Requests permission for systems services.</p>

<p><code>authType</code> is one of:</p>

<ul>
<li>&ldquo;location&rdquo;</li>
<li>&ldquo;motion&rdquo;</li>
<li>&ldquo;bluetooth&rdquo;</li>
<li>&ldquo;notification&rdquo;</li>
</ul>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">requestAuthorization</span><span class="p">(</span><span class="n">_</span> <span class="nv">authType</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>authType</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>system service to request authorization for (see discussion for the possible options)</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC16refreshItemState8itemType0H2IdySS_SitF"></a>
                    <a name="//apple_ref/swift/Method/refreshItemState(itemType:itemId:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC16refreshItemState8itemType0H2IdySS_SitF">refreshItemState(itemType:<wbr>itemId:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Request the updated state for an item.</p>

<p>Invokes <code><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html#/s:14OpenpathMobile0aB18AccessCoreDelegateP08openpathbcD0_19onItemStatesUpdatedyAA0abcD0C_SDySSypGtF">openpathMobileAccessCore(_:onItemStatesUpdated:)</a></code> on completion.</p>

<ul>
<li>itemType: &ldquo;entry&rdquo; or &ldquo;reader&rdquo;</li>
<li>itemId: The ID of the entry or reader</li>
</ul>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">refreshItemState</span><span class="p">(</span><span class="nv">itemType</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">itemId</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC12sendFeedback7subject7message0H4JsonySS_S2SSgtF"></a>
                    <a name="//apple_ref/swift/Method/sendFeedback(subject:message:messageJson:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC12sendFeedback7subject7message0H4JsonySS_S2SSgtF">sendFeedback(subject:<wbr>message:<wbr>messageJson:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sends feedback and SDK logs via email to Openpath.</p>

<p>This can be implemented if you need support from Openpath to help troubleshoot issues. It should be used for development, testing and integration purposes only. Feedback is most helpful when sent immediately after an issue has occurred.</p>

<p>Invokes <code><a href="../Protocols/OpenpathMobileAccessCoreDelegate.html#/s:14OpenpathMobile0aB18AccessCoreDelegateP08openpathbcD0_22onSendFeedbackResponseyAA0abcD0C_SDySSypGtF">openpathMobileAccessCore(_:onSendFeedbackResponse:)</a></code> on completion.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">sendFeedback</span><span class="p">(</span>
    <span class="nv">subject</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
    <span class="nv">message</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
    <span class="nv">messageJson</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>subject</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the email title</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>message</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the email body. Please include as much information in the message as possible, such as a detailed description of the issue experienced, entry, time of occurrence, steps to reproduce, or any app state stored on your side that might help.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>messageJson</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>optional additional information to be included with the message. If present, must be a JSON-formatted string.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC31enableErrorNotificationsForItem7enabled8itemType0K2IdySb_SSSitF"></a>
                    <a name="//apple_ref/swift/Method/enableErrorNotificationsForItem(enabled:itemType:itemId:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC31enableErrorNotificationsForItem7enabled8itemType0K2IdySb_SSSitF">enableErrorNotificationsForItem(enabled:<wbr>itemType:<wbr>itemId:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Enables or disables error notifications for an item (reader or entry).</p>

<p>A user will receive a notification when an unlock fails. Error notifications are enabled by default.</p>

<ul>
<li>enabled: If <code>true</code>, error notifications are sent when an unlock fails for the given item</li>
<li>itemType: &ldquo;reader&rdquo; or &ldquo;entry&rdquo;</li>
<li>itenId: ID of the reader or entry for which to enable notifications</li>
</ul>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">enableErrorNotificationsForItem</span><span class="p">(</span><span class="nv">enabled</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">,</span> <span class="nv">itemType</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">itemId</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC11setLogLevel03logG0S2S_tF"></a>
                    <a name="//apple_ref/swift/Method/setLogLevel(logLevel:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC11setLogLevel03logG0S2S_tF">setLogLevel(logLevel:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Set the log level for Openpath logs.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">func</span> <span class="nf">setLogLevel</span><span class="p">(</span><span class="nv">logLevel</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>logLevel</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>&ldquo;verbose&rdquo;, &ldquo;debug&rdquo;, &ldquo;info&rdquo;, or &ldquo;off&rdquo;</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC9getErrorsSDySSypGyF"></a>
                    <a name="//apple_ref/swift/Method/getErrors()" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC9getErrorsSDySSypGyF">getErrors()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><em>Success message:</em></p>
<pre class="highlight swift"><code><span class="p">[</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s">"errors"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span>
        <span class="s">"code"</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
        <span class="s">"message"</span><span class="p">:</span> <span class="kt">String</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">getErrors</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Collection of possible SDK errors, including the error code and message.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC13getSdkVersionSDySSypGyF"></a>
                    <a name="//apple_ref/swift/Method/getSdkVersion()" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC13getSdkVersionSDySSypGyF">getSdkVersion()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><em>Success message:</em></p>
<pre class="highlight swift"><code><span class="p">[</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s">"sdkVersion"</span><span class="p">:</span> <span class="kt">String</span>
  <span class="p">]</span>
<span class="p">]</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">getSdkVersion</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>the current SDK version</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC24getAuthorizationStatusesSDySSypGyF"></a>
                    <a name="//apple_ref/swift/Method/getAuthorizationStatuses()" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC24getAuthorizationStatusesSDySSypGyF">getAuthorizationStatuses()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><em>Success message:</em></p>
<pre class="highlight swift"><code><span class="p">{</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"authorizationStatuses"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"authType"</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
      <span class="s">"status"</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span>
     <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">getAuthorizationStatuses</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC15getUserApiToken8userOpalSDySSypGSS_tF"></a>
                    <a name="//apple_ref/swift/Method/getUserApiToken(userOpal:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC15getUserApiToken8userOpalSDySSypGSS_tF">getUserApiToken(userOpal:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the user&rsquo;s Openpath REST API Token.</p>

<p><em>Success message:</em></p>
<pre class="highlight swift"><code><span class="p">[</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s">"apiToken"</span><span class="p">:</span> <span class="kt">String</span>
  <span class="p">]</span>
<span class="p">]</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">getUserApiToken</span><span class="p">(</span><span class="nv">userOpal</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:14OpenpathMobile0aB10AccessCoreC17getReadersInRange13rssiThresholdSDySSypGSi_tF"></a>
                    <a name="//apple_ref/swift/Method/getReadersInRange(rssiThreshold:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:14OpenpathMobile0aB10AccessCoreC17getReadersInRange13rssiThresholdSDySSypGSi_tF">getReadersInRange(rssiThreshold:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>To reduce jitter, the list of readers is maintained in a semi-stable order. Since RSSI can vary considerably between measurements, two entries will only swap places in the sorted list if the new top-sorted entry has an RSSI value that is greater than the other entry&rsquo;s by at least <code>rssiThreshold</code>.</p>

<p><em>Success message:</em></p>
<pre class="highlight swift"><code><span class="p">[</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s">"readersInRange"</span><span class="p">:</span> <span class="p">[[</span>
      <span class="s">"id"</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span>
      <span class="s">"name"</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
      <span class="s">"rssiValue"</span><span class="p">:</span> <span class="kt">Int</span>
    <span class="p">]]</span>
  <span class="p">]</span>
<span class="p">]</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">getReadersInRange</span><span class="p">(</span><span class="nv">rssiThreshold</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>rssiThreshold</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>controls the sorting behavior (see discussion)</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2024 <a class="link" href="" target="_blank" rel="external noopener"></a>. All rights reserved. (Last updated: 2024-05-01)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy  v0.14.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
